<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Mini App</title>
    <link rel="stylesheet" href="./style.css" />
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
  </head>
  <body>
    <h1>Привет из Mini App!</h1>
    <h1>Привет из Mini App!</h1>
    <p id="user"></p>
    <button id="sendBtn">Отправить ID боту</button>
    <div id="viewport"></div>

    <script>
      const btn = document.getElementById("sendBtn");
      btn.addEventListener("click", () => {
        tg.sendData(tg.initDataUnsafe.user.id.toString());
      });
    </script>

    <script>
      const tg = window.Telegram.WebApp;

      // Разворачиваем окно под экран
      tg.expand();

      // Получаем данные о пользователе
      document.getElementById("user").innerText =
        "Ваш Telegram ID: " + tg.initDataUnsafe.user.id;

      // Размеры экрана WebApp
      let div = getElementById("viewport");
      window.addEventListener("resize", () => {
        div.innerHTML = `
    <p>Ширина: ${tg.viewport.width}px</p>
    <p>Высота: ${tg.viewport.height}px</p>
  `;
      });
      tg.viewport.width;
      console("Ширина:", tg.viewport.width);
      console.log("Высота:", tg.viewport.height);

      // Можно автоматически развернуть под экран
      tg.expand();
    </script>
  </body>
</html>
